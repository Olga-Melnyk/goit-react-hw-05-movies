{"version":3,"file":"static/js/321.ac7a853e.chunk.js","mappings":"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","sources":["pages/Movies/Movies.styled.js","pages/Movies/Movies.js","services/getMovies.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const MoviesForm = styled('form')`\n  display: flex;\n  gap: 30px;\n  padding: 20px;\n`;\n\nexport const MoviesInput = styled('input')`\n  padding: 10px;\n  font-size: 20px;\n  outline: none;\n  border: 2px solid black;\n  border-radius: 5px;\n  &:hover {\n    scale: calc(1.03);\n    box-shadow: 0px 0px 15px 6px black;\n  }\n`;\n\nexport const MoviesButton = styled('button')`\n  font-size: 20px;\n  background-color: grey;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  border: 2px solid black;\n  &:hover,\n  focus {\n    color: black;\n    background-color: white;\n    scale: calc(1.03);\n    box-shadow: 0px 0px 15px 6px black;\n  }\n`;\n\nexport const MoviesList = styled('div')`\n  padding: 50px;\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  background-color: grey;\n`;\nexport const MovieItem = styled('li')`\n  &:not(:last-child) {\n    margin-bottom: 5px;\n  }\n`;\n\nexport const LinkItem = styled(Link)`\n  width: 400px;\n  background-color: grey;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  text-decoration: none;\n  margin-bottom: 40px;\n  &:hover {\n    scale: calc(1.03);\n    box-shadow: 0px 0px 20px 8px black;\n  }\n  &:nth-last-child(-n + 4) {\n    margin-bottom: 0;\n  }\n`;\n\nexport const MovieTitle = styled('h2')`\n  text-align: center;\n  font-size: 25px;\n  color: white;\n  &:hover {\n    color: #e3811f;\n    text-shadow: 0px 0px 20px 8px black;\n  }\n`;\n","import { useState, useEffect } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchMovieByQuery } from '../../services/getMovies';\nimport { Toaster } from 'react-hot-toast';\nimport { toast } from 'react-hot-toast';\n\nimport {\n  MoviesForm,\n  MoviesInput,\n  MoviesButton,\n  MoviesList,\n  MovieTitle,\n  LinkItem,\n} from './Movies.styled';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [inputValue, setInputValue] = useState('');\n\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    async function fetchByQuery() {\n      try {\n        const data = await fetchMovieByQuery(query);\n        if (data.results.length < 1) {\n          setMovies([]);\n          return toast.error(\"We can't find it, try again\");\n        }\n        setMovies(data.results);\n      } catch (error) {\n        setError(error);\n      }\n    }\n    fetchByQuery();\n  }, [query]);\n\n  const handleSubmit = e => {\n    if (!inputValue) {\n      toast.error(\"We can't find it, try again\");\n      setMovies([]);\n    }\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams(\n      inputValue !== '' ? { query: form.elements.query.value } : {}\n    );\n    setInputValue('');\n    form.reset();\n  };\n\n  const onChangeInput = value => {\n    setInputValue(value);\n  };\n\n  if (!movies) {\n    return null;\n  }\n\n  return (\n    <div>\n      {error && <div>Something wrong</div>}\n      <MoviesForm onSubmit={handleSubmit}>\n        <MoviesInput\n          type=\"text\"\n          name=\"query\"\n          value={inputValue}\n          onChange={e => onChangeInput(e.currentTarget.value.toLowerCase())}\n        />\n        <MoviesButton type=\"submit\">Search</MoviesButton>\n      </MoviesForm>\n      {movies && (\n        <MoviesList>\n          {movies.map(movie => {\n            let poster;\n            if (movie.poster_path) {\n              poster = `https://image.tmdb.org/t/p/w400/${movie.poster_path}`;\n            } else {\n              poster = `https://www.wallpaper-box.com/smartphone/wp-content/uploads/2015/01/Abstract-Connected-Lines-3D-Render-iPhone-6-Plus-HD-Wallpaper.jpg`;\n            }\n            return (\n              <LinkItem\n                key={movie.id}\n                to={`${movie.id}`}\n                state={{ from: location }}\n              >\n                <img src={poster} width=\"400\" alt={movie.title} />\n                <MovieTitle>{movie.title}</MovieTitle>\n              </LinkItem>\n            );\n          })}\n        </MoviesList>\n      )}\n      <Toaster toastOptions={{ duration: 2500 }} />\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '51114562faac57108ae3113fba230ec4';\n\nexport async function fetchTrending() {\n  const respons = await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n\n  return respons.data;\n}\n\nexport async function fetchMovieDetails(movieId) {\n  const respons = await axios.get(\n    `movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n\n  return respons.data;\n}\n\nexport async function fetchMovieCast(movieId) {\n  const respons = await axios.get(\n    `movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n\n  return respons.data;\n}\n\nexport async function fetchMovieReviews(movieId) {\n  const respons = await axios.get(\n    `movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n\n  return respons.data;\n}\n\nexport async function fetchMovieByQuery(query) {\n  const movie = await axios.get(\n    `search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n\n  return movie.data;\n}\n"],"names":["MoviesForm","styled","MoviesInput","MoviesButton","MoviesList","LinkItem","Link","MovieTitle","useState","movies","setMovies","error","setError","inputValue","setInputValue","location","useLocation","useSearchParams","searchParams","setSearchParams","query","get","useEffect","fetchMovieByQuery","data","results","length","toast","fetchByQuery","onSubmit","e","preventDefault","form","currentTarget","elements","value","reset","type","name","onChange","toLowerCase","map","movie","poster","poster_path","to","id","state","from","src","width","alt","title","toastOptions","duration","axios","API_KEY","fetchTrending","respons","fetchMovieDetails","movieId","fetchMovieCast","fetchMovieReviews"],"sourceRoot":""}